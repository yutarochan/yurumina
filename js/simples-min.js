!function(a){"use strict";var t=a("body").attr("data-page-url"),e=document.title,l=window.History;function o(){a(".page__content").find("img:first").imagesLoaded(function(){a("body").removeClass("loading")}),a(".active-link").removeClass("active-link"),a('a[href="'+t+'"]').addClass("active-link"),Waypoint.destroyAll();var e=0;a(".gallery").each(function(){var t=a(this),l="gallery-"+ ++e;t.attr("id",l);var o=t.attr("data-columns");t.append('<div class="gallery__wrap"></div>'),t.children("img").each(function(){a(this).appendTo("#"+l+" .gallery__wrap")}),t.find(".gallery__wrap img").each(function(){var t=a(this).attr("src");a(this).wrapAll('<div class="gallery__item"><a href="'+t+'" class="gallery__item__link"></div></div>').appendTo()}),t.imagesLoaded(function(){if("1"===o){t.addClass("gallery--carousel"),t.children(".gallery__wrap").addClass("owl-carousel"),t.children(".gallery__wrap").owlCarousel({items:1,loop:!0,mouseDrag:!1,touchDrag:!0,pullDrag:!1,dots:!0,autoplay:!1,autoplayTimeout:6e3,autoHeight:!0,animateOut:"fadeOut"});new Waypoint({element:document.getElementById(l),handler:function(a){"down"===a&&t.children(".gallery__wrap").trigger("stop.owl.autoplay"),"up"===a&&t.children(".gallery__wrap").trigger("play.owl.autoplay")},offset:"-100%"}),new Waypoint({element:document.getElementById(l),handler:function(a){"down"===a&&t.children(".gallery__wrap").trigger("play.owl.autoplay"),"up"===a&&t.children(".gallery__wrap").trigger("stop.owl.autoplay")},offset:"100%"})}else t.addClass("gallery--grid"),t.children(".gallery__wrap").masonry({itemSelector:".gallery__item",transitionDuration:0}),t.find(".gallery__item__link").fluidbox({loader:!0});t.addClass("gallery--on")})}),a(".single p > img").each(function(){var t=a(this).parent("p");a(this).insertAfter(t),a(this).wrapAll('<div class="image-wrap"></div>'),t.remove()}),a(".single iframe").each(function(){if(a(this).attr("src").indexOf("youtube")>=0||a(this).attr("src").indexOf("vimeo")>=0){var t=a(this).attr("width"),e=a(this).attr("height")/t*100;a(this).wrapAll('<div class="video-wrap"><div class="video" style="padding-bottom:'+e+'%;"></div></div>')}}),a(".single table").each(function(){a(this).wrapAll('<div class="table-wrap"></div>')})}l.Adapter.bind(window,"statechange",function(){var i=l.getState();a("body").addClass("loading"),a(".page-loader").load(i.hash+" .page__content",function(){a("body, html").animate({scrollTop:0},400),setTimeout(function(){a(".page .page__content").remove(),a(".page-loader .page__content").appendTo(".page"),a("body").attr("data-page-url",window.location.pathname),t=a("body").attr("data-page-url"),e=a(".page__content").attr("data-page-title"),document.title=e,o()},400)})}),a("body").hasClass("ajax-loading")&&a(document).on("click","a",function(o){o.preventDefault();var i=a(this).attr("href");a(this).hasClass("js-no-ajax")||i.indexOf("#")>=0||i.indexOf("mailto:")>=0||i.indexOf("tel:")>=0?window.location=i:a(this).is(".gallery__item__link")||(i.indexOf("http")>=0?window.open(i,"_blank"):(t=i,l.pushState(null,e,i)))}),o(),a(document).on("submit","#contact-form",function(t){a(".contact-form__item--error").removeClass("contact-form__item--error");var e=a('.contact-form__input[name="email"]'),l=a('.contact-form__input[name="name"]'),o=a('.contact-form__textarea[name="message"]'),i=a(".contact-form__gotcha");""===e.val()&&e.closest(".contact-form__item").addClass("contact-form__item--error"),""===l.val()&&l.closest(".contact-form__item").addClass("contact-form__item--error"),""===o.val()&&o.closest(".contact-form__item").addClass("contact-form__item--error"),""!==e.val()&&""!==l.val()&&""!==o.val()&&0===i.val().length||t.preventDefault()})}(jQuery);